<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.o../html4/strict.dtd">
<html>
<!-- <link rel="stylesheet" type="text/css" href="../../css/plainStyle.css"> -->
<link rel="stylesheet" type="text/css" href="../../css/tabStyle.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
<style>
h2 {
    font: 100% Lucida Sans;
    background-color: #f6d8f8;
}
h3 {
    font: 90% Lucida Sans; 
    width: 100%;
    background-color: #f3f3f7;
    color: #191818;
}
#i {
     color: #ff1010;
} 
b{
	font: 100% Lucida Console;
	color: #2219fd;
    font-weight: bold;
}
tt{
	font: 100% Lucida Console;
	color: #c90b46;
    font-weight: bold;
}
</style>
<head>

<title>BLSLogic</title></head>
    
<body>     
<div class="container wrapper"> 
<div class="wrapper">
<div id="main"> 

<h1>The ButtonLed system: from the problem to the components</h1>
<button onclick="window.location.href='../../Material/entry.html'">Home</button> 
<div style="background-color:#fbffb6; width:100%;float:left;"> 
<h3>VISION</h3>
    Besides the vision of <a href="BLSOOPFromComponents.html" target="blsLogic">BLSOOPFromComponents</a>, we now add
      <ul>
 <li>Problem analysis is a very important (<a href="http://www.merriam-webster.com/dictionary/strategic" target="blsLogic">strategic</a>) phase that should terminate with the 
     'formal' (see <a href="https://en.wikipedia.org/wiki/Formal_language" target="blsLogic">Formal_language</a>) specification 
     (see <a href="https://en.wikipedia.org/wiki/Specification_language" target="blsLogic">Specification_language</a>) of the <a href="../../NatMolBook/content/book/modelBased/fasi/architetturaLogica.html" target="blsLogic"><img src="../../Material/source.gif">Logic Architetture </a> of the system.</li>
    <li>The <a href="../../NatMolBook/content/book/uml/concettoDiModello.html" target="blsLogic"><img src="../../Material/source.gif">model</a> of a system component should originate from the problem and not from code already available.</li>
<li>A Software Compoment can be conceived as a logical (abstract) entity that can be implemented in several ways.</li>
<li>The implementation technology should not be fixed a-priory, but should be <b>selected</b> according to the requirements and the needs of the problem.</li>
    <li>The <a href="https://www.mountaingoatsoftware.com/agile/scrum/product-backlog" target="blsLogic">product backlog</a> should be defined <b>after</b> that a logic architecture is set.</li>
      </ul>
 
    
<h3>GOALS</h3>
        <ul>    

    <li>Design and build a <a href="../../Appls/ButtonLed/buttonLed.html" target="blsLogic"><img src="../../Material/source.gif">ButtonLed system</a>, as a refinement of a
        <a href="../../Appls/ButtonLed/logicArch.html" target="code">Logic Architecture of the system</a> defined in the  <a href="../../NatMolBook/Analisi.html" target="code">problem analysis</a> phase</li>
    <li>Underdstand the role of the <a href="https://www.mountaingoatsoftware.com/agile/scrum/sprint-planning-meeting" target="blsLogic">sprint-planning-meeting</a> and discuss its relationship with problem analysis.</li>
            
<li>Recall the <a href="https://en.wikipedia.org/wiki/Bridge_pattern">Bridge Pattern</a> GOF.</li>     
            
    </ul>
  
</div>
  
    
<div style="background-color:#d5faf1; width:100%;float:left;">
<h3>WORK</h3>
<!--
Modify the <i>Prototype1</i> (project <a href="../../../../it.unibo.bls17/" target="code"><img src="../../Material/source.gif">it.unibo.bls17</a>) :         
<a href="../../../../it.unibo.bls17/src/it/unibo/bls17/env/MainBlsUniboEnv.java" target="code"><img src="../../Material/source.gif">MainBlsUniboEnv</a>  ,
<a href="../../../../it.unibo.bls17/test/it/unibo/bls17/env/TestBlsUniboEnv.java" target="code"><img src="../../Material/source.gif">TestBlsUniboEnv</a> 
    
     <img src="./img/BLSBase.jpg" alt="show" width="394" height="92"/> 
-->
Build a new <i>Prototype1</i> for the ButtonLed system by starting the implementation phase only as the consequence of a project, based on a 'formalized' problem analysis.

    


    
<ol>
     </ol>
    
</div>

<div style="background-color:#04b779; width:100%;text-align:center;font-size:small;color:white">
-------
</div>
<h2>Requirements</h2>
<hr/>
<b>User story</b>: <b>As</b> a <i>operator</i>, <b>I want</b> <i>to press a Button</i> <b>so that</b> <i>a Led can be turned on/off</i>. The Button and the Led can be <i>physical</i> devices connnected to an Arduino microcontroller or to a RasberrtPi. One of them colud be also a <i>'virtual'</i> device implemented on a PC or Android. For <i>'virtual'</i> component we intend a device implemented with a GUI.
<hr/>
<h2>Product Backlog</h2>    
We start from:
    <ol>
    
    <li>the fact that we already have some working domain component (in our case a <a href="../../../../it.unibo.bls17/src/it/unibo/bls17/components/env/ButtonGui.java" target="code"><img src="../../Material/source.gif">ButtonGui</a> and a <a href="../../../../it.unibo.bls17/src/it/unibo/bls17/components/env/LedGui.java" target="code"><img src="../../Material/source.gif">LedGui</a>) and also a working prototype:
         <br/>
    <img src="./img/BLSUniboenv.jpg" alt="show" width="483" height="140"/>
<br/>
 This code can be useful in some implementation phase, but is <b>not considered as the staring point</b> of our software construction.       
        </li>
    <li>the intention to    
formalize (possibly in a short time) a <a href="../../NatMolBook/content/book/modelBased/fasi/architetturaLogica.html" target="code"><img src="../../Material/source.gif">logic architecture</a>  of the system as the result of a problem <a href="../../NatMolBook/Analisi.html" target="code"><img src="../../Material/source.gif">analysis</a> phase.</li>
    </ol>

 <h2><a name="BlsLogicArch">(Object-based) Logic architecture of the ButtonLed system</h2> 
     
      
In <!-- <a href="../../Appls/ButtonLed/buttonLedHighLevelEntry.html" target="code"><img src="../../Material/source.gif">buttonLedHighLevel</a> -->
     <a href="../../Appls/ButtonLed/logicArch.html" target="code"><img src="../../Material/source.gif">ButtonLed/logicArch.html</a>
ww report the basic reasoning that leads to the following logic architecture:
<br/><br/>
     <img src="./img/BLSOOPHL.jpg" alt="show" width="617" height="192"/>
<br/>
The main points are:
     <ul>
     <li>The attention is focused on the role of the system components and on their interaction.</li>
    <li>Each system component is viwed as a <b>logical</b> component associated with a low-level object that enapsulates the details of
        a specific implementation, according to the <a href="https://en.wikipedia.org/wiki/Bridge_pattern">Bridge Pattern</a>.
         This can be considered a <i>project detail</i>, but it is show here to stress the fact that a logic architecture should
         abstract from implementation details, while providing a solid base for a concrete implementation.</li>
     <li>Each component is modelled as a conventional 'Plain Old Java' Object (<tt>POJO</tt>, e.g a <a href="../../../../it.unibo.noawtsupports/src/it/unibo/system/SituatedPlainObject.java" target="code"><img src="../../Material/source.gif">SituatedPlainObject</a> ) able to execute operations called by
     some other object. This is done for 'legacy' reasons. For the distributed, heterogeneous versions 
         of the system other 'paradigms' coul be adopted, e.g. 
         <a href="https://en.wikipedia.org/wiki/Active_object">active objects</a>,
         <a href="https://en.wikipedia.org/wiki/Actor_model">actors</a>,
         <a href="https://en.wikipedia.org/wiki/Software_agent">agents</a>, etc.
          </li>
     <li>The system works by 'reacting' to external inputs (button clicks). The red arrow shows that the thread that 
         handles buttun inputs is related to the low-level, technology dependent <tt>IButton</tt> device that provides an implementation for the <tt>DevButton</tt>. </li>

     </ul>
     
<h2>Workplan</h2>
    Our workplan is:   
<ol>
    
<li>Define a more accurate <a href="#DevModels">domain model</a> for input-output devices.</li>

<li>Define the classes involved in the <a href="#BlsLogicArch">Logic Architecture</a> of the system by taking the <a href="https://en.wikipedia.org/wiki/Bridge_pattern" target="code">Bridge Pattern</a> as a reference point. More precisley: 
<ul>
<li>Define the properties of (a model for) the main system components and compare them with those of the available domain
    components.</li>
<li>If a system component (model) is different from an available domain component, define the Test Plans for that system components.</li>
<li>Define the Test Plans for the whole System.</li>
     </ul>
    </li>
<li>Build and test the new system components (unit testing).</li>
<li>Build and test the system (integration testing).</li>
</ol> 
 
    
     <h1><a name="DevModels"></a>Device (domain) models</h1> 
    
    <h3>Basic interfaces</h3>
The project <a href="../../../../it.unibo.interfaces/" target="code"><img src="../../Material/source.gif">it.unibo.interfaces</a>:
<a href="../../../../it.unibo.interfaces/src/it/unibo/is/interfaces/IObservable.java" target="code"><img src="../../Material/source.gif">IObservable</a>    
<a href="../../../../it.unibo.interfaces/src/it/unibo/is/interfaces/IObserver.java" target="code"><img src="../../Material/source.gif">IObserver</a>,    
<a href="../../../../it.unibo.interfaces/src/it/unibo/iot/interfaces/IDeviceIot.java" target="code"><img src="../../Material/source.gif">IDeviceIot</a>
<a href="../../../../it.unibo.interfaces/src/it/unibo/is/interfaces/IOutputEnvView.java" target="code"><img src="../../Material/source.gif">IOutputEnvView</a>   
<a href="../../../../it.unibo.interfaces/src/it/unibo/is/interfaces/IActivityBase.java" target="code"><img src="../../Material/source.gif">IActivityBase</a> 
defines the basic, general purpose interface that already provide a base vocabulary in our working environemt.
<br/><br/>
 <img src="./img/BasicInterfaces.jpg" alt="show" width="806" height="242"/>    

     <h2><a name="LowDevModels"></a>Low level device models</h2> 
     
The project <a href="../../../../it.unibo.buttonLedSystemHL" target="code"><img src="../../Material/source.gif">it.unibo.buttonLedSystemHL</a> provides basic interfaces related to the implementation of input devices and output devices:
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/lowLevel/interfaces/IDeviceInputImpl.java" target="code"><img src="../../Material/source.gif">IDeviceInputImpl</a>,    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/lowLevel/interfaces/IDeviceOutputImpl.java" target="code"><img src="../../Material/source.gif">IDeviceOutputImpl</a>   
 <br/>
 <br/>
    <img src="./img/DeviceModelLow.jpg" alt="show" width="682" height="492"/>

<h2>High level device models (<a href="https://en.wikipedia.org/wiki/Bridge_pattern" target="code">Bridge</a>)</h2>      

The project <a href="../../../../it.unibo.buttonLedSystemHL" target="code"><img src="../../Material/source.gif">it.unibo.buttonLedSystemHL</a> provides 
    <ul>
    <li>
interfaces for logic (technology independent) devices:
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/highLevel/interfaces/IDevInput.java" target="code"><img src="../../Material/source.gif">IDevInput</a>,   
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/highLevel/interfaces/IDevOutput.java" target="code"><img src="../../Material/source.gif">IDevOutput</a>,    
                           
    </li>
    <li>
interfaces for logic button/led devices:    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/highLevel/interfaces/IDevButton.java" target="code"><img src="../../Material/source.gif">IDevButton</a>                                                                                     <a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/bls/highLevel/interfaces/IDevLed.java" target="code"><img src="../../Material/source.gif">IDevLed</a>,    
    </li>
    <li>
classes that realize technology independent button/led with the <a href="https://en.wikipedia.org/wiki/Bridge_pattern" target="code">Bridge</a> pattern :
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/DevButton.java" target="code"><img src="../../Material/source.gif">DevButton</a>,    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/DevLed.java" target="code"><img src="../../Material/source.gif">DevLed</a>     
        
    </li>
    </ul>
 

 <br/>
 <br/>
    <img src="./img/DeviceModelHigh.jpg" alt="show" width="776" height="497"/>
 
    
<h2><a name="ImplCommon"></a>Implementation common models</h2>
 
    
The project <a href="../../../../it.unibo.buttonLedSystemHL" target="code"><img src="../../Material/source.gif">it.unibo.buttonLedSystemHL</a> defines classes that provide a common behavior for all button/led implementations:
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/DeviceButtonImpl.java" target="code"><img src="../../Material/source.gif">DeviceButtonImpl</a>,    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/DeviceLedImpl.java" target="code"><img src="../../Material/source.gif">DeviceLedImpl</a>   

<br/>
 <br/>
    <img src="./img/DeviceImpl.jpg" alt="show" width="676" height="229"/>

    

 <h2>All together</h2>   
<img src="./img/BLS2015All.jpg" alt="show" width="675" height="653"/>

<h1>Technology-independent (logical) systems</h1>
    <!-- our Sprint Planning phase --> Our   definition of a (bridge-based) 
    <a href="#BlsLogicArch">logic architecture</a> can be used to drive the specification
    of the first product backlog (<tt>PD</tt>):
    <ol>
    <li>design, build and test the <b>logical</b> components of the system</li>
    <li>design, build and test  some <b>concrete</b> component of the system, e.g. <a href="https://en.wikipedia.org/wiki/Mock_object">Mock components</a></li>
    <li>design, build and test  the whole system</li>
    </ol>
 However, we note that, starting form our  <a href="#BlsLogicArch">logic architecture</a>, we can state that:
    <ul>
    <li>To build a ButtonLed system we must 'inject' concrete devices into the logical devices of the 
        "logic architecture frameowrk"</li>
    </ul>
 Thus, we can <b>suggest to our product owner</b> the following new priority list:
    <ol>
    <li>design and build the <b>logical</b> components of the system</li>
     <li>design, build and test the whole system with <a href="https://en.wikipedia.org/wiki/Mock_object">Mock</a> concrete components</li>
       <li>design and build some <b>concrete</b> component of the system, and specialize the already
           working logical system by 'injecting' these new concrete components </li>
    </ol>
    
<h2><tt>PD</tt> ITEM 1) A configuration class</h2>
    The class 
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLedSystem/BLSHLConfig.java" target="code"><img src="../../Material/source.gif">BLSHLConfig</a> provides the answer for <i>item 1</i> of our (new) product backlog:
    
<h2><tt>PD</tt> ITEM 2) Mock objects</h2>
The classes provided as a <a href="#ImplCommon"> common implementation </a> can be used to define mock button/led devices:
<br/>
  <a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/ButtonMock.java" target="code"><img src="../../Material/source.gif">ButtonMock</a>,    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLed/components/LedMock.java" target="code"><img src="../../Material/source.gif">LedMock</a>   
    
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLedSystem/BLSHLMainMock.java" target="code"><img src="../../Material/source.gif">BLSHLMainMock</a>
 
<h3>A factory</h3>
    As usual, we have defined a Factory class to include a set of facory methods:
<a href="../../../../it.unibo.buttonLedSystemHL/src/it/unibo/buttonLedSystem/BLSHLFactory.java" target="code"><img src="../../Material/source.gif">BLSHLFactory</a>

<h3>Tests</h3>    
 <a href="../../../../it.unibo.buttonLedSystemHL/test/it/unibo/buttonLedSystemHL/TestButtonMock.java" target="code"><img src="../../Material/source.gif">TestButtonMock</a>
    
    <a href="../../../../it.unibo.buttonLedSystemHL/test/it/unibo/buttonLedSystemHL/ButtonObserverNaive.java" target="code"><img src="../../Material/source.gif">ButtonObserverNaive</a>

  <a href="../../../../it.unibo.buttonLedSystemHL/test/it/unibo/buttonLedSystemHL/TestLedMock.java" target="code"><img src="../../Material/source.gif">TestLedMock</a>
<br/>   
  <a href="../../../../it.unibo.buttonLedSystemHL/test/it/unibo/buttonLedSystemHL/TestBlsNaiveControl.java" target="code"><img src="../../Material/source.gif">TestBlsNaiveControl</a>
    
<h1>Technology-dependent components</h1>
    
<h2><tt>PD</tt> ITEM 3) Concrete components based on GUI </h2>

    <img src="./img/DeviceImplGui.jpg" alt="show" width="689" height="330"/>

<h2>ITEM 2) Concrete components on Arduino </h2>   

<h2>ITEM 2) Concrete components on RaspberryPi </h2>   
<!--
=========================================================================================
-->
    
    
<br/><br/>       


</div>    
</div>
</div>    
<div style="background-color:rgba(86, 56, 253, 0.9); width:100%;text-align:center;font-size:small;color:white">
By AN Unibo-DISI    
</div>    

</body></html>